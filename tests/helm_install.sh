#!/usr/bin/env bash

readonly ROOT_DIR="$(dirname "$(dirname "${0}")")"

helm upgrade --install test-openshift sumologic/sumologic \
  --version 4.21.0 \
  -n sumologic-system \
  --create-namespace -f "${ROOT_DIR}/tests/values.yaml" \
  --set instrumentation.instrumentationJobImage.image.repository='' \
  --set instrumentation.instrumentationJobImage.image.tag='' \
  --set kube-prometheus-stack.kube-state-metrics.image.repository='' \
  --set kube-prometheus-stack.kube-state-metrics.image.tag='' \
  --set kube-prometheus-stack.prometheus-node-exporter.image.repository='' \
  --set kube-prometheus-stack.prometheus-node-exporter.image.tag='' \
  --set kube-prometheus-stack.prometheus.prometheusSpec.image.repository='' \
  --set kube-prometheus-stack.prometheus.prometheusSpec.image.sha='' \
  --set kube-prometheus-stack.prometheus.prometheusSpec.image.tag='' \
  --set kube-prometheus-stack.prometheusOperator.image.repository='' \
  --set kube-prometheus-stack.prometheusOperator.image.sha='' \
  --set kube-prometheus-stack.prometheusOperator.image.tag='' \
  --set kube-prometheus-stack.prometheusOperator.prometheusConfigReloader.image.repository='' \
  --set kube-prometheus-stack.prometheusOperator.prometheusConfigReloaderImage.sha='' \
  --set kube-prometheus-stack.prometheusOperator.prometheusConfigReloaderImage.tag='' \
  --set kube-prometheus-stack.prometheusOperator.thanosImage.repository='' \
  --set kube-prometheus-stack.prometheusOperator.thanosImage.sha='' \
  --set kube-prometheus-stack.prometheusOperator.thanosImage.tag='' \
  --set metadata.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set metadata.image.tag=51b8013d326dbbbaf61b5f18d91d271c331e2e3cab5c845a9b4ccadf50757853 \
  --set metrics-server.image.registry=public.ecr.aws/sumologic \
  --set metrics-server.image.repository=metrics-server@sha256 \
  --set metrics-server.image.tag=3eadf575d8ebb56318a4bbc22c2b03d065513e77f5602ff4655bdaf6dbef7272 \
  --set opentelemetry-operator.kubeRBACProxy.image.repository='' \
  --set opentelemetry-operator.kubeRBACProxy.image.tag='' \
  --set opentelemetry-operator.manager.autoInstrumentationImage.dotnet.repository='' \
  --set opentelemetry-operator.manager.autoInstrumentationImage.dotnet.tag='' \
  --set opentelemetry-operator.manager.autoInstrumentationImage.java.repository='' \
  --set opentelemetry-operator.manager.autoInstrumentationImage.java.tag='' \
  --set opentelemetry-operator.manager.autoInstrumentationImage.nodejs.repository='' \
  --set opentelemetry-operator.manager.autoInstrumentationImage.nodejs.tag='' \
  --set opentelemetry-operator.manager.autoInstrumentationImage.python.repository='' \
  --set opentelemetry-operator.manager.autoInstrumentationImage.python.tag='' \
  --set opentelemetry-operator.manager.collectorImage.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set opentelemetry-operator.manager.collectorImage.tag=51b8013d326dbbbaf61b5f18d91d271c331e2e3cab5c845a9b4ccadf50757853 \
  --set opentelemetry-operator.manager.collectorImage.tag=51b8013d326dbbbaf61b5f18d91d271c331e2e3cab5c845a9b4ccadf50757853 \
  --set opentelemetry-operator.manager.image.repository='' \
  --set opentelemetry-operator.manager.image.tag='' \
  --set otelcolInstrumentation.statefulset.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set otelcolInstrumentation.statefulset.image.tag=51b8013d326dbbbaf61b5f18d91d271c331e2e3cab5c845a9b4ccadf50757853 \
  --set otelevents.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set otelevents.image.tag=51b8013d326dbbbaf61b5f18d91d271c331e2e3cab5c845a9b4ccadf50757853 \
  --set otellogs.daemonset.initContainers.changeowner.image.repository='' \
  --set otellogs.daemonset.initContainers.changeowner.image.tag='' \
  --set otellogs.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set otellogs.image.tag=51b8013d326dbbbaf61b5f18d91d271c331e2e3cab5c845a9b4ccadf50757853 \
  --set pvcCleaner.job.image.repository='' \
  --set pvcCleaner.job.image.tag='' \
  --set sumologic.metrics.collector.otelcol.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set sumologic.metrics.collector.otelcol.image.tag=51b8013d326dbbbaf61b5f18d91d271c331e2e3cab5c845a9b4ccadf50757853 \
  --set sumologic.metrics.remoteWriteProxy.image.repository='' \
  --set sumologic.metrics.remoteWriteProxy.image.tag='' \
  --set sumologic.otelcolImage.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set sumologic.otelcolImage.tag=51b8013d326dbbbaf61b5f18d91d271c331e2e3cab5c845a9b4ccadf50757853 \
  --set sumologic.setup.job.image.repository='' \
  --set sumologic.setup.job.image.tag='' \
  --set sumologic.setup.job.initContainerImage.repository='' \
  --set sumologic.setup.job.initContainerImage.tag='' \
  --set tailing-sidecar-operator.kubeRbacProxy.image.repository='' \
  --set tailing-sidecar-operator.kubeRbacProxy.image.tag='' \
  --set tailing-sidecar-operator.operator.image.repository=public.ecr.aws/sumologic/tailing-sidecar-operator@sha256 \
  --set tailing-sidecar-operator.operator.image.tag=0f1de6965ab949bd324329098bdd2c82104f32ca2c9023dde0d448f31599db11 \
  --set tailing-sidecar-operator.sidecar.image.repository=public.ecr.aws/sumologic/tailing-sidecar@sha256 \
  --set tailing-sidecar-operator.sidecar.image.tag=a6561330df15b4bc0083eb3f3ef22775c0b1d5ed283da7e612604a14e9bb2810 \
  --set tailing-sidecar-operator.sidecar.image.tag=a6561330df15b4bc0083eb3f3ef22775c0b1d5ed283da7e612604a14e9bb2810 \
  --set telegraf-operator.image.repository='' \
  --set telegraf-operator.image.sidecarImage='' \
  --set telegraf-operator.image.tag='' \
  --set tracesGateway.deployment.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set tracesGateway.deployment.image.tag=51b8013d326dbbbaf61b5f18d91d271c331e2e3cab5c845a9b4ccadf50757853 \
  --set tracesSampler.deployment.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set tracesSampler.deployment.image.tag=51b8013d326dbbbaf61b5f18d91d271c331e2e3cab5c845a9b4ccadf50757853
