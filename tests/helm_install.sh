#!/usr/bin/env bash

readonly ROOT_DIR="$(dirname "$(dirname "${0}")")"

helm upgrade --install test-openshift sumologic/sumologic \
  --version 4.9.0 \
  -n sumologic-system \
  --create-namespace -f "${ROOT_DIR}/tests/values.yaml" \
  --set instrumentation.instrumentationJobImage.image.repository=public.ecr.aws/sumologic/kubernetes-tools-kubectl@sha256 \
  --set instrumentation.instrumentationJobImage.image.tag=d8689a622e3e329bdf0ddcb8f38bcf918c5ad1fc16b4da818a190bfb8834063b \
  --set kube-prometheus-stack.kube-state-metrics.image.repository=public.ecr.aws/sumologic/kube-state-metrics@sha256 \
  --set kube-prometheus-stack.kube-state-metrics.image.tag=3551ededa327a35db798ec8286cd843580e3ae395d2231e041e8c4b7621127ee \
  --set kube-prometheus-stack.prometheus-node-exporter.image.repository=public.ecr.aws/sumologic/node-exporter@sha256 \
  --set kube-prometheus-stack.prometheus-node-exporter.image.tag=3e1a592dc2556345dba65b22e366a64748a8e51223facb9d82ec14c71c4a43c1 \
  --set kube-prometheus-stack.prometheus.prometheusSpec.image.repository=public.ecr.aws/sumologic/prometheus@sha256 \
  --set kube-prometheus-stack.prometheus.prometheusSpec.image.sha=4e483f18b2fc1642a32c6a41a802e5351627173710fec674d461a0e4109568a7 \
  --set kube-prometheus-stack.prometheus.prometheusSpec.image.tag=v2.39.0-ubi \
  --set kube-prometheus-stack.prometheusOperator.image.repository=public.ecr.aws/sumologic/prometheus-operator@sha256 \
  --set kube-prometheus-stack.prometheusOperator.image.sha=58a329e6582456b32abebb470086191f8366b927af4703741613993465f116b8 \
  --set kube-prometheus-stack.prometheusOperator.image.tag=v0.59.2-ubi \
  --set kube-prometheus-stack.prometheusOperator.prometheusConfigReloader.image.repository=public.ecr.aws/sumologic/prometheus-config-reloader@sha256 \
  --set kube-prometheus-stack.prometheusOperator.prometheusConfigReloaderImage.sha=0b605d36782afd8f50fd631d0e9c7b19d39ce962af89b7a737b2f09a8ceff291 \
  --set kube-prometheus-stack.prometheusOperator.prometheusConfigReloaderImage.tag=v0.59.2-ubi \
  --set kube-prometheus-stack.prometheusOperator.thanosImage.repository=public.ecr.aws/sumologic/thanos@sha256 \
  --set kube-prometheus-stack.prometheusOperator.thanosImage.sha=5f132bb32e337ed474cb031ae1fcb0320e493097e81ba6915bd1f5361687529a \
  --set kube-prometheus-stack.prometheusOperator.thanosImage.tag=v0.28.0-ubi \
  --set metadata.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set metadata.image.tag=4c575848287e41884ce580c4668996f7f4bfe06e9fcc332a9bea99abf0af8791 \
  --set metrics-server.image.registry=public.ecr.aws/sumologic \
  --set metrics-server.image.repository=metrics-server@sha256 \
  --set metrics-server.image.tag=65d2a3ddc4b4183f438fa18b655079c93c905cb9e3b8c54977336205dc1fff07 \
  --set opentelemetry-operator.kubeRBACProxy.image.repository=public.ecr.aws/sumologic/kube-rbac-proxy@sha256 \
  --set opentelemetry-operator.kubeRBACProxy.image.tag=48a94cd74a9f7466fa6273f8823da2569f5f75a8df9723d5876afc364dd8556c \
  --set opentelemetry-operator.manager.autoInstrumentationImage.dotnet.repository=public.ecr.aws/sumologic/autoinstrumentation-dotnet@sha256 \
  --set opentelemetry-operator.manager.autoInstrumentationImage.dotnet.tag=f4f385c4489c74b5c43f2fe6b6620a9eb8d9ecab470567236b3c45f636106640 \
  --set opentelemetry-operator.manager.autoInstrumentationImage.java.repository=public.ecr.aws/sumologic/autoinstrumentation-java@sha256 \
  --set opentelemetry-operator.manager.autoInstrumentationImage.java.tag=242958b7d8905f4ac02f6ad38897ba58b9badf2a6213a389e67dcc71fee3630c \
  --set opentelemetry-operator.manager.autoInstrumentationImage.nodejs.repository=public.ecr.aws/sumologic/autoinstrumentation-nodejs@sha256 \
  --set opentelemetry-operator.manager.autoInstrumentationImage.nodejs.tag=c206eef4fdecaa58b4f01e5e7f0dbd74e9606eab2b4debf47461d36191e248d1 \
  --set opentelemetry-operator.manager.autoInstrumentationImage.python.repository=public.ecr.aws/sumologic/autoinstrumentation-python@sha256 \
  --set opentelemetry-operator.manager.autoInstrumentationImage.python.tag=f0fa45fa45e64c7df88f21181ae18ee96fe83cd3988258663d0806ea6f39e6bb \
  --set opentelemetry-operator.manager.collectorImage.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set opentelemetry-operator.manager.collectorImage.tag=4c575848287e41884ce580c4668996f7f4bfe06e9fcc332a9bea99abf0af8791 \
  --set opentelemetry-operator.manager.collectorImage.tag=4c575848287e41884ce580c4668996f7f4bfe06e9fcc332a9bea99abf0af8791 \
  --set opentelemetry-operator.manager.image.repository=public.ecr.aws/sumologic/opentelemetry-operator@sha256 \
  --set opentelemetry-operator.manager.image.tag=dd647fe30d6e871e57a8a479784ed1582aa2f53d3f293dbcd6b5c7769ba73f5a \
  --set otelcolInstrumentation.statefulset.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set otelcolInstrumentation.statefulset.image.tag=4c575848287e41884ce580c4668996f7f4bfe06e9fcc332a9bea99abf0af8791 \
  --set otelevents.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set otelevents.image.tag=4c575848287e41884ce580c4668996f7f4bfe06e9fcc332a9bea99abf0af8791 \
  --set otellogs.daemonset.initContainers.changeowner.image.repository=public.ecr.aws/sumologic/busybox@sha256 \
  --set otellogs.daemonset.initContainers.changeowner.image.tag=c687720bc06b4ccf6f34b635d869b554fe7f3b125752d63ceb5b45c05b025116 \
  --set otellogs.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set otellogs.image.tag=4c575848287e41884ce580c4668996f7f4bfe06e9fcc332a9bea99abf0af8791 \
  --set pvcCleaner.job.image.repository=public.ecr.aws/sumologic/kubernetes-tools-kubectl@sha256 \
  --set pvcCleaner.job.image.tag=d8689a622e3e329bdf0ddcb8f38bcf918c5ad1fc16b4da818a190bfb8834063b \
  --set sumologic.metrics.collector.otelcol.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set sumologic.metrics.collector.otelcol.image.tag=4c575848287e41884ce580c4668996f7f4bfe06e9fcc332a9bea99abf0af8791 \
  --set sumologic.metrics.remoteWriteProxy.image.repository=public.ecr.aws/sumologic/nginx-unprivileged@sha256 \
  --set sumologic.metrics.remoteWriteProxy.image.tag=7260555d16c94c4fe1e016626b4cb8a5c0de6b700e2eea28744331fb298f71ae \
  --set sumologic.otelcolImage.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set sumologic.otelcolImage.tag=4c575848287e41884ce580c4668996f7f4bfe06e9fcc332a9bea99abf0af8791 \
  --set sumologic.setup.job.image.repository=public.ecr.aws/sumologic/kubernetes-setup@sha256 \
  --set sumologic.setup.job.image.tag=cb1c61afe6e41ab1d0f05e95443ed858280d7ae44135cec3ded75774f1d0919e \
  --set sumologic.setup.job.initContainerImage.repository=public.ecr.aws/sumologic/busybox@sha256 \
  --set sumologic.setup.job.initContainerImage.tag=c687720bc06b4ccf6f34b635d869b554fe7f3b125752d63ceb5b45c05b025116 \
  --set tailing-sidecar-operator.kubeRbacProxy.image.repository=public.ecr.aws/sumologic/kube-rbac-proxy@sha256 \
  --set tailing-sidecar-operator.kubeRbacProxy.image.tag=48a94cd74a9f7466fa6273f8823da2569f5f75a8df9723d5876afc364dd8556c \
  --set tailing-sidecar-operator.operator.image.repository=public.ecr.aws/sumologic/tailing-sidecar-operator@sha256 \
  --set tailing-sidecar-operator.operator.image.tag=c16b8b18e9b263fc3eb24059bba512bcfc3201b32105af6e5518392826ddd66c \
  --set tailing-sidecar-operator.sidecar.image.repository=public.ecr.aws/sumologic/tailing-sidecar@sha256 \
  --set tailing-sidecar-operator.sidecar.image.tag=738d653a78dc415243ab3627db9135768175fb7f51d0803566f5d9e824c8744b \
  --set telegraf-operator.image.repository=public.ecr.aws/sumologic/telegraf-operator@sha256:ff958222be01c0c3966474463e43bbd5bcf348790dd34bb761718cb1cea2d793 \
  --set telegraf-operator.image.sidecarImage=public.ecr.aws/sumologic/telegraf@sha256:75efd2e509c6017ea0fc5c9103ce068cbc89087b16506a4ef48cb5ff00eab84e \
  --set tracesGateway.deployment.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set tracesGateway.deployment.image.tag=4c575848287e41884ce580c4668996f7f4bfe06e9fcc332a9bea99abf0af8791 \
  --set tracesSampler.deployment.image.repository=public.ecr.aws/sumologic/sumologic-otel-collector@sha256 \
  --set tracesSampler.deployment.image.tag=4c575848287e41884ce580c4668996f7f4bfe06e9fcc332a9bea99abf0af8791 
